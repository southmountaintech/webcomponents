"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){return document.createElement(t)}function l(){return t=" ",document.createTextNode(t);var t}function u(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function f(t,e,n){t.classList[n?"add":"remove"](e)}let p;function m(t){p=t}function g(){if(!p)throw new Error("Function called outside component initialization");return p}const h=[],$=[],b=[],y=[],x=Promise.resolve();let v=!1;function _(t){b.push(t)}let w=!1;const k=new Set;function E(){if(!w){w=!0;do{for(let t=0;t<h.length;t+=1){const e=h[t];m(e),C(e.$$)}for(h.length=0;$.length;)$.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];k.has(e)||(k.add(e),e())}b.length=0}while(h.length);for(;y.length;)y.pop()();v=!1,w=!1,k.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const A=new Set;function L(t,e){-1===t.$$.dirty[0]&&(h.push(t),v||(v=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(s,a,i,c,l,u,d=[-1]){const f=p;m(s);const g=a.props||{},h=s.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:d};let $=!1;var b,y;h.ctx=i?i(s,g,(t,e,...n)=>{const r=n.length?n[0]:e;return h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),$&&L(s,t)),e}):[],h.update(),$=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),a.target&&(a.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):h.fragment&&h.fragment.c(),a.intro&&((b=s.$$.fragment)&&b.i&&(A.delete(b),b.i(y))),function(t,n,s){const{fragment:a,on_mount:i,on_destroy:c,after_update:l}=t.$$;a&&a.m(n,s),_(()=>{const n=i.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(_)}(s,a.target,a.anchor),E()),m(f)}let T;function H(e){let n,r,o,s,p;return{c(){n=c("div"),r=c("img"),s=l(),p=c("div"),this.c=t,u(r,"alt",e[1]),u(r,"id","img-small"),r.src!==(o=e[0])&&u(r,"src",o),f(r,"loaded",e[4]),d(p,"padding-bottom",e[2]+"%"),u(n,"id","placeholder")},m(t,o){i(t,n,o),a(n,r),a(n,s),a(n,p),e[8](n)},p(t,[e]){2&e&&u(r,"alt",t[1]),1&e&&r.src!==(o=t[0])&&u(r,"src",o),16&e&&f(r,"loaded",t[4]),4&e&&d(p,"padding-bottom",t[2]+"%")},i:t,o:t,d(t){var r;t&&(r=n).parentNode.removeChild(r),e[8](null)}}}function N(t,e,n){let r,{smallimgsrc:o=""}=e,{largeimgsrc:s=""}=e,{alt:a=""}=e,{aspectratio:i=50}=e,c=!1,l=!1;const u=()=>{if(l)return;if(!(o&&s&&i&&a))return;const t=new Image;t.src=o,t.onload=function(){n(4,c=!0)};const e=new Image;e.src=s,e.alt=a,e.onload=function(){e.classList.add("loaded")},r.appendChild(e),l=!0};var d;return d=u,g().$$.on_mount.push(d),function(t){g().$$.after_update.push(t)}(u),t.$set=t=>{"smallimgsrc"in t&&n(0,o=t.smallimgsrc),"largeimgsrc"in t&&n(5,s=t.largeimgsrc),"alt"in t&&n(1,a=t.alt),"aspectratio"in t&&n(2,i=t.aspectratio)},[o,a,i,r,c,s,l,u,function(t){$[t?"unshift":"push"](()=>{n(3,r=t)})}]}"function"==typeof HTMLElement&&(T=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});class S extends T{constructor(t){super(),this.shadowRoot.innerHTML="<style>#placeholder{background-color:#f6f6f6;background-size:cover;background-repeat:no-repeat;position:relative;overflow:hidden}#placeholder img{position:absolute;opacity:0;top:0;left:0;width:100%;transition:opacity 1s linear}#placeholder img.loaded{opacity:1}#img-small{filter:blur(50px);transform:scale(1)}</style>",M(this,{target:this.shadowRoot},N,H,s,{smallimgsrc:0,largeimgsrc:5,alt:1,aspectratio:2}),t&&(t.target&&i(t.target,this,t.anchor),t.props&&(this.$set(t.props),E()))}static get observedAttributes(){return["smallimgsrc","largeimgsrc","alt","aspectratio"]}get smallimgsrc(){return this.$$.ctx[0]}set smallimgsrc(t){this.$set({smallimgsrc:t}),E()}get largeimgsrc(){return this.$$.ctx[5]}set largeimgsrc(t){this.$set({largeimgsrc:t}),E()}get alt(){return this.$$.ctx[1]}set alt(t){this.$set({alt:t}),E()}get aspectratio(){return this.$$.ctx[2]}set aspectratio(t){this.$set({aspectratio:t}),E()}}customElements.define("progressive-image",S);var j=new S;module.exports=j;
